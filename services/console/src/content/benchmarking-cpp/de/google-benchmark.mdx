---
title: "Google Benchmark"
description: "Eine Schritt-f√ºr-Schritt-Anleitung zur Benchmarking von C++-Code mit Google Benchmark"
heading: "Wie man C++-Code mit Google Benchmark benchmarkt"
published: "2024-11-03T16:30:00Z"
modified: "2024-11-03T16:30:00Z"
sortOrder: 1
---

import Benchmarking from "../../../chunks/benchmarking/de/benchmarking.mdx";
import FizzBuzzRules from "../../../chunks/benchmarking/de/fizz-buzz-rules.mdx";
import FizzBuzzCpp from "../../../chunks/benchmarking-cpp/de/fizz-buzz-cpp.mdx";
import StepByStepCpp from "../../../chunks/benchmarking-cpp/de/step-by-step-cpp.mdx";
import MicroVsMacro from "../../../chunks/benchmarking/de/micro-vs-macro.mdx";
import BenchmarkingCpp from "../../../chunks/benchmarking-cpp/de/benchmarking-cpp.mdx";
import FizzBuzzRefactor from "../../../chunks/benchmarking-cpp/google-benchmark/de/fizz-buzz-refactor.mdx";
import BenchmarkingFizzBuzz from "../../../chunks/benchmarking-cpp/google-benchmark/de/benchmarking-fizz-buzz.mdx";
import FizzBuzzFibonacciCpp from "../../../chunks/benchmarking-cpp/de/fizz-buzz-fibonacci-cpp.mdx";
import PlayGameCode from "../../../chunks/benchmarking-cpp/google-benchmark/play-game-code.mdx";
import BenchmarkingFizzBuzzFibonacci from "../../../chunks/benchmarking-cpp/google-benchmark/de/benchmarking-fizz-buzz-fibonacci.mdx";
import FizzBuzzFibonacciOpenCpp from "../../../chunks/benchmarking-cpp/google-benchmark/de/fizz-buzz-fibonacci-open-cpp.mdx";
import FizzBuzzFibonacciOpenCode from "../../../chunks/benchmarking-cpp/fizz-buzz-fibonacci-open-code.mdx";
import TheEnd from "../../../chunks/benchmarking/de/the-end.mdx";
import OnFire from "../../../chunks/benchmarking/de/on-fire.mdx";
import TestGameOnFireCode from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-on-fire-code.mdx";
import BenchmarkGameOnFireOutputStart from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-on-fire-output-start.mdx";
import BenchmarkGameOnFireOutput from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-on-fire-output.mdx";
import FizzBuzzFibonacciFix from "../../../chunks/benchmarking-cpp/google-benchmark/de/fizz-buzz-fibonacci-fix.mdx";
import BenchmarkGameFixOutput from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-fix-output.mdx";
import CatchInCi from "../../../chunks/benchmarking/de/catch-in-ci.mdx";
import CatchInCiOutput from "../../../chunks/benchmarking-cpp/google-benchmark/catch-in-ci-output.mdx";
import CatchInCiPlot from "../../../chunks/benchmarking/de/catch-in-ci-plot.mdx";
import CatchInCiPlotRustBench from "../../../chunks/benchmarking-rust/catch-in-ci-plot-rust-bench.mdx";
import BencherFooter from "../../../chunks/learn/de/bencher-footer.mdx";

<Benchmarking />

<FizzBuzzCpp />

<StepByStepCpp />

<MicroVsMacro />

<BenchmarkingCpp />

Beide werden [von Bencher unterst√ºtzt](/de/docs/explanation/adapters/).
Warum also Google Benchmark w√§hlen?
Google Benchmark integriert sich nahtlos mit GoogleTest,
welches der De-facto-Standard f√ºr Unit-Tests im C++-√ñkosystem ist.
Ich w√ºrde vorschlagen, Google Benchmark zu verwenden, um die Latenz Ihres Codes zu messen,
insbesondere wenn Sie bereits GoogleTest verwenden.
Das hei√üt, Google Benchmark eignet sich hervorragend zum Messen der echten Zeit.

<FizzBuzzRefactor />

<BenchmarkingFizzBuzz />

<FizzBuzzFibonacciCpp>
  <PlayGameCode />
</FizzBuzzFibonacciCpp>

<BenchmarkingFizzBuzzFibonacci />

<FizzBuzzFibonacciOpenCpp>
    <FizzBuzzFibonacciOpenCode />
</FizzBuzzFibonacciOpenCpp>

<TheEnd />

<br />

<OnFire />

<TestGameOnFireCode />

- Ein Mikro-Benchmark `BENCHMARK_game_100` f√ºr das Spiel mit der Zahl hundert (`100`)
- Ein Mikro-Benchmark `BENCHMARK_game_1_000_000` f√ºr das Spiel mit der Zahl eine Million (`1_000_000`)

Als ich es ausf√ºhrte, erhielt ich Folgendes:

<BenchmarkGameOnFireOutputStart />

Warte... warte...

<BenchmarkGameOnFireOutput />

Was! `1,249 ns` x `10,000` sollten `12,490,000 ns` sein, nicht `110,879,642 ns` ü§Ø
Obwohl ich meinen Fibonacci-Sequenz-Code funktional korrekt hatte, muss irgendwo ein Performance-Fehler drin sein.

<FizzBuzzFibonacciFix />

Jetzt lassen Sie uns diese Benchmarks erneut ausf√ºhren und sehen, wie wir abgeschnitten haben:

<BenchmarkGameFixOutput />

Oh, wow! Unser `BENCHMARK_game` Benchmark ist zur√ºck, ungef√§hr dort, wo er bei dem urspr√ºnglichen FizzBuzz war.
Ich w√ºnschte, ich k√∂nnte mich genau an das Ergebnis erinnern. Es ist allerdings schon drei Wochen her.
Mein Terminalverlauf reicht nicht so weit zur√ºck, und Google Benchmark speichert seine Ergebnisse nicht.
Aber ich denke, es ist nah dran!

Der `BENCHMARK_game_100` Benchmark ist fast um das 50-fache gesunken auf `34.4 ns`.
Und der `BENCHMARK_game_1_000_000` Benchmark ist mehr als 1.500.000-fach gesunken! Von `110,879,642 ns` auf `61.6 ns`!

> üê∞ Hey, wenigstens haben wir diesen Performance-Fehler erwischt, bevor er in die Produktion gelangte... oh, richtig. Schon gut...

<CatchInCi />

<CatchInCiOutput />

<CatchInCiPlot />

<CatchInCiPlotRustBench title="Wie man C++ mit Google Benchmark benchmarkt" />

<BencherFooter />