---
title: "Google Benchmark"
description: "Una gu√≠a paso a paso sobre c√≥mo medir el rendimiento del c√≥digo C++ con Google Benchmark"
heading: "C√≥mo medir el rendimiento del c√≥digo C++ con Google Benchmark"
published: "2024-11-03T16:30:00Z"
modified: "2024-11-03T16:30:00Z"
sortOrder: 1
---

import Benchmarking from "../../../chunks/benchmarking/es/benchmarking.mdx";
import FizzBuzzRules from "../../../chunks/benchmarking/es/fizz-buzz-rules.mdx";
import FizzBuzzCpp from "../../../chunks/benchmarking-cpp/es/fizz-buzz-cpp.mdx";
import StepByStepCpp from "../../../chunks/benchmarking-cpp/es/step-by-step-cpp.mdx";
import MicroVsMacro from "../../../chunks/benchmarking/es/micro-vs-macro.mdx";
import BenchmarkingCpp from "../../../chunks/benchmarking-cpp/es/benchmarking-cpp.mdx";
import FizzBuzzRefactor from "../../../chunks/benchmarking-cpp/google-benchmark/es/fizz-buzz-refactor.mdx";
import BenchmarkingFizzBuzz from "../../../chunks/benchmarking-cpp/google-benchmark/es/benchmarking-fizz-buzz.mdx";
import FizzBuzzFibonacciCpp from "../../../chunks/benchmarking-cpp/es/fizz-buzz-fibonacci-cpp.mdx";
import PlayGameCode from "../../../chunks/benchmarking-cpp/google-benchmark/play-game-code.mdx";
import BenchmarkingFizzBuzzFibonacci from "../../../chunks/benchmarking-cpp/google-benchmark/es/benchmarking-fizz-buzz-fibonacci.mdx";
import FizzBuzzFibonacciOpenCpp from "../../../chunks/benchmarking-cpp/google-benchmark/es/fizz-buzz-fibonacci-open-cpp.mdx";
import FizzBuzzFibonacciOpenCode from "../../../chunks/benchmarking-cpp/fizz-buzz-fibonacci-open-code.mdx";
import TheEnd from "../../../chunks/benchmarking/es/the-end.mdx";
import OnFire from "../../../chunks/benchmarking/es/on-fire.mdx";
import TestGameOnFireCode from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-on-fire-code.mdx";
import BenchmarkGameOnFireOutputStart from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-on-fire-output-start.mdx";
import BenchmarkGameOnFireOutput from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-on-fire-output.mdx";
import FizzBuzzFibonacciFix from "../../../chunks/benchmarking-cpp/google-benchmark/es/fizz-buzz-fibonacci-fix.mdx";
import BenchmarkGameFixOutput from "../../../chunks/benchmarking-cpp/google-benchmark/benchmark-game-fix-output.mdx";
import CatchInCi from "../../../chunks/benchmarking/es/catch-in-ci.mdx";
import CatchInCiOutput from "../../../chunks/benchmarking-cpp/google-benchmark/catch-in-ci-output.mdx";
import CatchInCiPlot from "../../../chunks/benchmarking/es/catch-in-ci-plot.mdx";
import CatchInCiPlotRustBench from "../../../chunks/benchmarking-rust/catch-in-ci-plot-rust-bench.mdx";
import BencherFooter from "../../../chunks/learn/es/bencher-footer.mdx";

<Benchmarking />

<FizzBuzzCpp />

<StepByStepCpp />

<MicroVsMacro />

<BenchmarkingCpp />

Both are [support by Bencher](/es/docs/explanation/adapters/).
Entonces, ¬øpor qu√© elegir Google Benchmark?
Google Benchmark se integra perfectamente con GoogleTest,
que es el est√°ndar de facto para pruebas unitarias en el ecosistema de C++.
Sugiero usar Google Benchmark para evaluar la latencia de tu c√≥digo,
especialmente si ya est√°s utilizando GoogleTest.
Es decir, Google Benchmark es ideal para medir el tiempo de reloj de pared.

<FizzBuzzRefactor />

<BenchmarkingFizzBuzz />

<FizzBuzzFibonacciCpp>
  <PlayGameCode />
</FizzBuzzFibonacciCpp>

<BenchmarkingFizzBuzzFibonacci />

<FizzBuzzFibonacciOpenCpp>
    <FizzBuzzFibonacciOpenCode />
</FizzBuzzFibonacciOpenCpp>

<TheEnd />

<br />

<OnFire />

<TestGameOnFireCode />

- Un micro-benchmark `BENCHMARK_game_100` para jugar el juego con el n√∫mero cien (`100`)
- Un micro-benchmark `BENCHMARK_game_1_000_000` para jugar el juego con el n√∫mero un mill√≥n (`1_000_000`)

Cuando lo ejecut√©, obtuve esto:

<BenchmarkGameOnFireOutputStart />

Esp√©ralo... esp√©ralo...

<BenchmarkGameOnFireOutput />

¬øQu√©! `1,249 ns` x `10,000` deber√≠a ser `12,490,000 ns` no `110,879,642 ns` ü§Ø
Aunque mi c√≥digo de secuencia de Fibonacci es funcionalmente correcto, debe haber un error de rendimiento en alguna parte.

<FizzBuzzFibonacciFix />

Ahora volvamos a ejecutar esos benchmarks y veamos c√≥mo nos fue:

<BenchmarkGameFixOutput />

¬°Oh, wow! Nuestro benchmark `BENCHMARK_game` ha vuelto a donde estaba para el FizzBuzz original.
Desear√≠a poder recordar exactamente cu√°l era ese puntaje. Sin embargo, han pasado tres semanas.
El historial de mi terminal no llega tan lejos, y Google Benchmark no almacena sus resultados.
¬°Pero creo que est√° cerca!

El benchmark `BENCHMARK_game_100` ha bajado casi 50 veces a `34.4 ns`.
¬°Y el benchmark `BENCHMARK_game_1_000_000` ha bajado m√°s de 1,500,000 veces! `110,879,642 ns` a `61.6 ns`!

> üê∞ Al menos encontramos este error de rendimiento antes de que llegara a producci√≥n... oh, cierto. No importa...

<CatchInCi />

<CatchInCiOutput />

<CatchInCiPlot />

<CatchInCiPlotRustBench title="C√≥mo medir el rendimiento de C++ con Google Benchmark" />

<BencherFooter />