---
import ConsoleLayout from "./ConsoleLayout.astro";
import ProjectMenu from "../../components/console/menu/ProjectMenu";
import type { Params } from "astro";
import ProjectFallbackMenu from "../../components/console/menu/ProjectFallbackMenu";

interface Props {
	apiUrl: string;
	params: Params;
	title: string;
	redirect?: string;
}

const { apiUrl, params, title, redirect } = Astro.props;
const project_redirect = redirect ?? `/perf/${params.project}`;
---

<ConsoleLayout apiUrl={apiUrl} params={params} title={title} redirect={project_redirect}>
  <ProjectMenu client:only="solid-js" slot="menu" apiUrl={apiUrl} params={params}>
	<ProjectFallbackMenu slot="fallback" />
  </ProjectMenu>
  <slot />
</ConsoleLayout>
