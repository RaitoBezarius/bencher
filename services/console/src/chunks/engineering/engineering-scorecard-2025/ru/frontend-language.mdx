### Язык интерфейса

Astro имеет [встроенную поддержку TypeScript][astro typescript].
В процессе перехода с SolidStart на Astro, я также начал переход с JavaScript на TypeScript.
Конфигурация TypeScript для Bencher установлена на самый строгий режим Astro.
Однако Astro не выполняет проверку типов во время сборки.
На момент написания у Bencher все еще есть `604` ошибок типов.
Эти ошибки типов используются скорее как подсказки при редактировании кода,
но они не блокируют сборку ([пока нет][github issue 557]).

Я также добавил [Typeshare][typeshare github], чтобы синхронизировать структуры данных Rust в Bencher с интерфейсом TypeScript.
Это было очень полезно для разработки Bencher Console.
Кроме того, все валидаторы полей, таких как имена пользователей, электронные адреса и т. д.,
совместно используются между кодом на Rust и интерфейсом TypeScript [через WASM][github wasm bindgen].
Было несколько хлопотно заставить WASM работать как в SolidStart, так и в Astro.
Самый распространенный класс ошибок, который я видел в интерфейсе, был в местах, где вызывается функция WASM,
но модуль WASM еще не загружен.
Я разобрался, как это исправить, но все равно иногда забываю, и это снова появляется.

Наличие автоматически генерируемых общих типов и валидаторов из кода Rust
значительно упростило взаимодействие с интерфейсом.
Они оба проверяются в CI, так что никогда не рассинхронизируются.
Все, что мне нужно сделать, это убедиться, что HTTP-запросы сформированы правильно,
и все просто работает.
Это делает невозможность использования full-stack Rust немного менее болезненной.

> | Технология | Итог |
> | :--------: | :---: |
> |    Rust    |  ❌   |
> | JavaScript |  ❌   |
> | TypeScript |  ✅   |
> | Typeshare  |  ✅   |
> |    WASM    |  ✅   |

[astro typescript]: https://docs.astro.build/ru/guides/typescript/
[github issue 557]: https://github.com/bencherdev/bencher/issues/557
[typeshare github]: https://github.com/1Password/typeshare
[github wasm bindgen]: https://github.com/rustwasm/wasm-bindgen