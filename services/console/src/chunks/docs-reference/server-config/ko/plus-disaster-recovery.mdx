### `plus.disaster_recovery`

이 섹션은 재해 복구 구성을 지정합니다.
Bencher는 모든 데이터베이스 변경 사항을 지속적으로 복제하는 기능을 지원합니다.
요청 시 실행하거나 예약된 백업을 실행하려면 구성의 `database.data_store` 섹션을 참조하십시오.

네 가지 복제 `scheme`가 있습니다:
- `file`: 로컬 파일 경로로 복제
    - `path`: 복제할 경로
- `sftp`: SFTP를 통해 복제
    - `host`: 대상 시스템 호스트 이름
    - `port`: 대상 시스템 포트 번호
    - `user`: 대상 시스템의 사용자 이름
    - `password`: (선택사항) 대상 시스템의 비밀번호
    - `path`: (선택사항) 대상 시스템의 경로
    - `key_path`: (선택사항) SSH 키 경로
- `s3`: S3 호환 블롭 스토리지에 복제
    - `bucket`: 버킷 이름
    - `path`: (선택사항) 버킷 내 경로
    - `endpoint`: (AWS: 선택사항 | 비AWS: 필수) 복제 엔드포인트
    - `region`: (선택사항) 버킷 지역
    - `access_key_id`: S3 액세스 키
    - `secret_access_key`: S3 비밀 액세스 키
- `abs`: Azure Blob Storage에 복제
    - `account_name`: 계정 이름
    - `bucket`: 버킷 이름
    - `path`: (선택사항) 버킷 내 경로
    - `account_key`: Azure 계정 키
- `gcs`: Google Cloud Storage로 복제
    - `bucket`: 버킷 이름
    - `path`: (선택사항) 버킷 내 경로
    - `GOOGLE_APPLICATION_CREDENTIALS`: 서비스 계정 자격 증명이 있는 파일 경로를 가리키는 환경 변수

모든 네 가지 복제 `scheme`에 다음과 같은 추가 옵션이 있습니다:

- `retention`: (선택사항) 스냅샷(WAL) 파일이 보관될 기간. 보관 기간 후 새 스냅샷을 생성하고 이전 파일을 제거합니다. 가장 오래된 스냅샷보다 이전에 존재하는 WAL 파일 또한 제거됩니다. 기본값은 `24h`입니다.
- `retention_check_interval`: (선택사항) Bencher가 보관을 적용해야 하는지 확인하는 간격을 지정합니다. 기본값은 `1h`입니다.
- `snapshot_interval`: (선택사항) 새로운 스냅샷이 생성되는 간격을 지정합니다. 이를 통해 복구 시간을 단축할 수 있습니다. 최신 스냅샷은 적용해야 할 WAL 프레임 수가 적기 때문입니다. 스냅샷 간격을 설정하지 않으면 보관이 수행될 때마다 새 스냅샷이 생성됩니다. 기본적으로 보관은 매 24시간마다 수행됩니다.
- `validation_interval`: (선택사항) 지정된 경우, Bencher는 복제된 데이터가 로컬 사본과 일치하는지 자동으로 복원하고 검증합니다. 기본적으로 비활성화됩니다. 이를 활성화하면 대부분의 클라우드 서비스가 다운로드에 대한 요금을 부과하므로 Bencher 실행 비용이 크게 증가할 수 있습니다.
- `sync_interval`: (선택사항) 프레임이 복제로 푸시되는 빈도입니다. 기본값은 `1s`입니다. 빈도를 증가시키면 클라우드 스토리지 비용이 크게 증가할 수 있습니다.

|           이름           |   예시    | 기본값 | 필수여부 |                                         설명                                          |
| :----------------------: | :-------: | :----: | :------: | :-----------------------------------------------------------------------------------: |
|       busy_timeout       |   5000    |  5000  |    No    |             데이터베이스의 busy 타임아웃을 밀리초(ms) 단위로 지정합니다.              |
|         replicas         |  [ ... ]  |  ---   |    예    |                                   복제 배열을 지정                                    |
|    replicas[replica]     | \{ ... \} |  ---   |    예    |                                복제 객체를 지정합니다                                 |
| replicas[replica].scheme |   "s3"    |  ---   |    예    | 복제 scheme을 지정합니다. 다른 모든 `replica` 키에 대해서는 위의 목록을 참조하십시오. |

