### `plus.disaster_recovery`

このセクションは、災害復旧の設定を指定します。
Bencherはデータベースの全ての変更を継続的に複製することをサポートします。
オンデマンドまたは定期バックアップを実行するには、設定の `database.data_store` セクションをご覧ください。

複製には4つのスキームがあります：
- `file`: ローカルファイルパスに複製
    - `path`: 複製先のパス
- `sftp`: SFTPを使用して複製
    - `host`: 目標システムのホスト名
    - `port`: 目標システムのポート番号
    - `user`: 目標システムのユーザー名
    - `password`: (任意) 目標システムのパスワード
    - `path`: (任意) 目標システムのパス
    - `key_path`: (任意) SSHキーのパス
- `s3`: S3互換の任意のブロブストレージに複製
    - `bucket`: バケット名
    - `path`: (任意) バケット内のパス
    - `endpoint`: (AWS: 任意 | 非AWS: 必須) 複製エンドポイント
    - `region`: (任意) バケットのリージョン
    - `access_key_id`: S3アクセスキー
    - `secret_access_key`: S3シークレットアクセスキー
- `abs`: Azure Blobストレージに複製
    - `account_name`: アカウント名
    - `bucket`: バケット名
    - `path`: (任意) バケット内のパス
    - `account_key`: Azureアカウントキー
- `gcs`: Google Cloudストレージに複製
    - `bucket`: バケット名
    - `path`: (任意) バケット内のパス
    - `GOOGLE_APPLICATION_CREDENTIALS`: サービスアカウントの資格情報を指すファイルパスに設定される環境変数

4つの複製スキーム全てに共通の追加オプションがあります：

- `retention`: (任意) スナップショットおよびWALファイルが保持される時間。保持期間の後、新しいスナップショットが作成され、古いものは削除されます。最も古いスナップショットよりも前に存在するWALファイルも削除されます。デフォルトは `24h` です。
- `retention_check_interval`: (任意) Bencherが保持を強制する必要があるかどうかをどの頻度でチェックするかを指定します。デフォルトは `1h` です。
- `snapshot_interval`: (任意) 新しいスナップショットが作成される頻度を指定します。新しいスナップショットは適用されるWALフレームが少ないため、復元時間が短縮されます。保持はこれらのスナップショットにも適用されます。スナップショットの間隔を設定しない場合は、保持が行われるたびに新しいスナップショットが作成されます。保持はデフォルトで24時間ごとに行われます。
- `validation_interval`: (任意) 指定された場合、Bencherは自動的に復元し、複製データがローカルコピーと一致するかどうかを検証します。デフォルトでは無効になっています。これを有効にすると、ほとんどのクラウドサービスがダウンロードに料金を課すため、Bencherの実行コストが大幅に増加する可能性があります。
- `sync_interval`: (任意) フレームが複製にプッシュされる頻度。デフォルトは `1s` です。頻度を上げるとクラウドストレージコストが大幅に増加する可能性があります。

|           名前           |    例     | デフォルト | 必須  |                                              説明                                              |
| :----------------------: | :-------: | :--------: | :---: | :--------------------------------------------------------------------------------------------: |
|       busy_timeout       |   5000    |    5000    |  No   |                   データベースのビジータイムアウトをミリ秒単位で指定します。                   |
|         replicas         |  [ ... ]  |    ---     | はい  |                                    複製の配列を指定します。                                    |
|    replicas[replica]     | \{ ... \} |    ---     | はい  |                                 複製オブジェクトを指定します。                                 |
| replicas[replica].scheme |   "s3"    |    ---     | はい  | 複製スキームを指定します。 その他の `replica` キーについては、上記のリストを参照してください。 |