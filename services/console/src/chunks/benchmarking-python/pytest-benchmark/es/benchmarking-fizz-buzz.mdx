import TestGameCode from "../test-game-code.mdx";
import PipenvShellOutput from "../../pipenv-shell-output.mdx";
import PipenvInstallOutput from "../pipenv-install-output.mdx";
import PytestGameOutput from "../pytest-game-output.mdx";

## Evaluando el Rendimiento de FizzBuzz

Para evaluar el rendimiento de nuestro código, necesitamos crear una función de prueba que ejecute nuestra evaluación. Al final de `game.py` añade el siguiente código:

<TestGameCode />

- Crea una función llamada `test_game` que acepte un `benchmark` de `pytest-benchmark` como fixture.
- Crea una función `run_game` que itere de `1` a `100` inclusive.
  - Para cada número, llama a `play_game`, con `should_print` configurado en `False`.
- Pasa la función `run_game` al ejecutor `benchmark`.

Ahora necesitamos configurar nuestro proyecto para ejecutar nuestras evaluaciones.

Crea un nuevo entorno virtual con `pipenv`:

<PipenvShellOutput />

Instala `pytest-benchmark` dentro de ese nuevo entorno `pipenv`:

<PipenvInstallOutput />

Ahora estamos listos para medir el rendimiento de nuestro código, ejecuta `pytest game.py`:

<PytestGameOutput />

> 🐰 ¡A zapatear se ha dicho! ¡Tenemos nuestras primeras métricas de evaluación!

Finalmente, podemos descansar nuestras cansadas cabezas de desarrollador...
¡Es broma, nuestros usuarios quieren una nueva característica!