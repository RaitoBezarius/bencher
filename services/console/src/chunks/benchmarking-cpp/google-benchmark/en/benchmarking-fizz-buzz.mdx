import GitClone from "../git-clone.mdx";
import CdBenchmark from "../cd-benchmark.mdx";
import CmakeMakeDirectory from "../cmake-make-directory.mdx"
import CmakeCmake from "../cmake-cmake.mdx";
import CmakeRelease from "../cmake-release.mdx";
import CdBack from "../cd-back.mdx";
import BenchmarkGameCode from "../benchmark-game-code.mdx";
import BenchmarkGameOutput from "../benchmark-game-output.mdx";

## Benchmarking FizzBuzz

In order to benchmark our code, we need to first install Google Benchmark.

Clone the library:

<GitClone />

Enter the newly cloned directory:

<CdBenchmark />

Use `cmake` to create a build directory to place the build output:

<CmakeMakeDirectory />

Use `cmake` to generate build system files with and download any dependencies:

<CmakeCmake />

Finally, build the library:

<CmakeRelease />

Return back to the parent directory:

<CdBack />

Now let's create a new file named `benchmark_game.cpp`:

<BenchmarkGameCode />

- Import the function definitions from `play_game.h`.
- Import the Google `benchmark` library header.
- Create a function named `BENCHMARK_game` that takes in a reference to `benchmark::State`.
- Iterate over the `benchmark::State` object.
- For each iteration, iterate from `1` to `100` inclusively.
  - Call `play_game` with the current number and `should_print` set to `false`.
- Pass the `BENCHMARK_game` function the the `BENCHMARK` runner.
- Run the benchmark with `BENCHMARK_MAIN`.

Now we're ready to benchmark our code:

<BenchmarkGameOutput />

> üê∞ Lettuce turnip the beet! We've got our first benchmark metrics!

Finally, we can rest our weary developer heads...
Just kidding, our users want a new feature!
