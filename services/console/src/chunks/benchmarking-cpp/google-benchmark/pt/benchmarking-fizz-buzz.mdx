import GitClone from "../git-clone.mdx";
import CdBenchmark from "../cd-benchmark.mdx";
import CmakeMakeDirectory from "../cmake-make-directory.mdx"
import CmakeCmake from "../cmake-cmake.mdx";
import CmakeRelease from "../cmake-release.mdx";
import CdBack from "../cd-back.mdx";
import BenchmarkGameCode from "../benchmark-game-code.mdx";
import BenchmarkGameOutput from "../benchmark-game-output.mdx";

## Medindo Desempenho do FizzBuzz

Para medir o desempenho do nosso c√≥digo, precisamos primeiro instalar o Google Benchmark.

Clone a biblioteca:

<GitClone />

Entre no diret√≥rio rec√©m-clonado:

<CdBenchmark />

Use o `cmake` para criar um diret√≥rio de build onde ser√° colocado o resultado do build:

<CmakeMakeDirectory />

Use o `cmake` para gerar os arquivos de sistema de build e baixar quaisquer depend√™ncias:

<CmakeCmake />

Finalmente, construa a biblioteca:

<CmakeRelease />

Volte para o diret√≥rio pai:

<CdBack />

Agora vamos criar um novo arquivo chamado `benchmark_game.cpp`:

<BenchmarkGameCode />

- Importe as defini√ß√µes de fun√ß√µes de `play_game.h`.
- Importe o cabe√ßalho da biblioteca `benchmark` do Google.
- Crie uma fun√ß√£o chamada `BENCHMARK_game` que recebe uma refer√™ncia para `benchmark::State`.
- Itere sobre o objeto `benchmark::State`.
- Para cada itera√ß√£o, itere de `1` a `100`, inclusivamente.
  - Chame `play_game` com o n√∫mero atual e `should_print` definido como `false`.
- Passe a fun√ß√£o `BENCHMARK_game` para o executor `BENCHMARK`.
- Execute o benchmark com `BENCHMARK_MAIN`.

Agora estamos prontos para medir o desempenho do nosso c√≥digo:

<BenchmarkGameOutput />

> üê∞ Vamos l√°! Temos nossas primeiras m√©tricas de benchmark!

Finalmente, podemos descansar nossas cabe√ßas de desenvolvedor cansadas...
Brincadeira, nossos usu√°rios querem um novo recurso!