import CargoTomlDevDependencies from "../cargo-toml-dev-dependencies.mdx";

## Criando um Harness de Benchmarking Personalizado

Vamos criar um harness de benchmarking personalizado dentro de `benches/play_game.rs`.
Este harness de benchmarking personalizado irá medir alocações no heap
usando o [crate `dhat-rs`][crates dhat].
`dhat-rs` é uma ferramenta fantástica para rastrear alocações no heap em programas Rust
criada pelo especialista em performance Rust [Nicholas Nethercote][github nnethercote].
Para nos ajudar a gerenciar nossas funções de benchmark,
usaremos o [crate `inventory`][crates inventory]
do incrivelmente prolífico [David Tolnay][github dtolnay].

Vamos adicionar `dhat-rs` e `inventory` ao nosso arquivo `Cargo.toml` como `dev-dependencies`:

<CargoTomlDevDependencies />

[crates dhat]: https://docs.rs/dhat/latest/dhat/
[github nnethercote]: https://github.com/nnethercote
[crates inventory]: https://crates.io/crates/inventory
[github dtolnay]: https://github.com/dtolnay