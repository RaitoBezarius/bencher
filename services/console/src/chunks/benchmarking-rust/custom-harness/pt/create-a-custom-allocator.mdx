import PlayGameAlloc from "../play-game-rs-alloc.mdx";

### Crie um Allocator Personalizado

Como nosso conjunto de benchmarks personalizado medir√° as aloca√ß√µes no heap,
precisaremos usar um allocator de heap personalizado.
O Rust permite configurar um allocator de heap global personalizado
usando [o atributo `#[global_allocator]`][rust global allocator].
Adicione o seguinte ao topo de `benches/play_game.rs`:

<PlayGameAlloc />

Isso diz ao Rust para usar `dhat::Alloc` como nosso allocator de heap global.

> üê∞ Voc√™ s√≥ pode definir **um** allocator de heap global por vez.
> Se voc√™ quiser alternar entre m√∫ltiplos allocators globais,
> eles precisam ser gerenciados por meio de compila√ß√£o condicional com [features do Rust].

[rust global allocator]: https://doc.rust-lang.org/std/alloc/index.html#the-global_allocator-attribute
[rust features]: https://doc.rust-lang.org/cargo/reference/features.html