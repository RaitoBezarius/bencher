## Завершение

Мы начали этот пост с рассмотрения трёх самых популярных инструментов для бенчмаркинга в экосистеме Rust:
[libtest bench][libtest bench], [Criterion][criterion], и [Iai][iai].
Несмотря на то, что они могут покрывать большинство случаев использования,
иногда вам может потребоваться измерить что-то другое, кроме времени на часах или количества инструкций.
Это привело нас к созданию пользовательского инструмента для бенчмаркинга.

Наш пользовательский инструмент для бенчмаркинга измеряет выделения кучи с использованием `dhat-rs`.
Функции для бенчмаркинга собирались с использованием `inventory`.
При запуске наши бенчмарки выводят результаты в формате Bencher Metric Format (BMF) JSON.
Мы могли затем использовать Bencher для отслеживания наших пользовательских результатов бенчмаркинга с течением времени
и выявлять регрессии производительности в CI.

Весь исходный код для этого руководства [доступен на GitHub][github bencher].

[github bencher]: https://github.com/bencherdev/bencher/tree/main/examples/rust/custom

[libtest bench]: /ru/learn/benchmarking/rust/libtest-bench/
[criterion]: /ru/learn/benchmarking/rust/criterion/
[iai]: /ru/learn/benchmarking/rust/iai/
