import PlayGameAlloc from "../play-game-rs-alloc.mdx";

### Cr√©er un Allocateur Personnalis√©

√âtant donn√© que notre banc d'essai personnalis√© mesurera les allocations de tas,
nous aurons besoin d'utiliser un allocateur de tas personnalis√©.
Rust vous permet de configurer un allocateur de tas global personnalis√©
en utilisant [l'attribut `#[global_allocator]`][allocateur global rust].
Ajoutez ce qui suit en haut de `benches/play_game.rs` :

<PlayGameAlloc />

Cela indique √† Rust d'utiliser `dhat::Alloc` comme notre allocateur de tas global.

> üê∞ Vous ne pouvez d√©finir **qu'un seul** allocateur de tas global √† la fois.
> Si vous souhaitez basculer entre plusieurs allocateurs globaux,
> ils doivent √™tre g√©r√©s via la compilation conditionnelle avec [les fonctionnalit√©s de Rust].

[allocateur global rust]: https://doc.rust-lang.org/std/alloc/index.html#the-global_allocator-attribute
[les fonctionnalit√©s de Rust]: https://doc.rust-lang.org/cargo/reference/features.html