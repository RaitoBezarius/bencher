import CargoTomlDevDependencies from "../cargo-toml-dev-dependencies.mdx";

## Créer un Harnais de Benchmarking Personnalisé

Nous allons créer un harnais de benchmarking personnalisé dans `benches/play_game.rs`.
Ce harnais de benchmarking personnalisé va mesurer les allocations sur le tas
en utilisant [le crate `dhat-rs`][crates dhat].
`dhat-rs` est un outil fantastique pour suivre les allocations sur le tas dans les programmes Rust,
créé par l'expert en performance Rust [Nicholas Nethercote][github nnethercote].
Pour nous aider à gérer nos fonctions de benchmark,
nous utiliserons [le crate `inventory`][crates inventory]
par le prolifique [David Tolnay][github dtolnay].

Ajoutons `dhat-rs` et `inventory` à notre fichier `Cargo.toml` comme `dev-dependencies`:

<CargoTomlDevDependencies />

[crates dhat]: https://docs.rs/dhat/latest/dhat/
[github nnethercote]: https://github.com/nnethercote
[crates inventory]: https://crates.io/crates/inventory
[github dtolnay]: https://github.com/dtolnay
