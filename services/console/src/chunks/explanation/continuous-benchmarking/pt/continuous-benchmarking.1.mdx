O Benchmarking Cont√≠nuo √© uma pr√°tica de desenvolvimento de software onde os membros de uma equipe avaliam seu trabalho com frequ√™ncia,
geralmente cada pessoa faz benchmarks pelo menos diariamente - resultando em m√∫ltiplos benchmarks por dia.
Cada benchmark √© verificado por uma compila√ß√£o automatizada para detectar regress√µes de desempenho o mais r√°pido poss√≠vel.
Muitas equipes descobrem que esta abordagem leva a uma redu√ß√£o significativa nas regress√µes de desempenho
e permite que uma equipe desenvolva um software de alta performance de forma mais r√°pida.

Hoje, todos na ind√∫stria de software est√£o cientes da integra√ß√£o cont√≠nua (CI).
Em um n√≠vel fundamental, CI √© sobre detectar e prevenir regress√µes de recursos de software antes que eles cheguem √† produ√ß√£o.
Da mesma forma, o benchmarking cont√≠nuo (CB) √© sobre detectar e prevenir regress√µes de desempenho de software antes que elas cheguem √† produ√ß√£o.
Pelas mesmas raz√µes que os testes de unidade s√£o executados em CI para cada altera√ß√£o de c√≥digo,
testes de desempenho devem ser executados em CB para cada altera√ß√£o de c√≥digo.
Esta analogia √© de fato t√£o apta, que o primeiro par√°grafo desta se√ß√£o √© apenas uma vers√£o do Mad Libs de [introdu√ß√£o de Martin Fowler √† Integra√ß√£o Cont√≠nua em 2006](https://martinfowler.com/articles/continuousIntegration.html).

> üê∞ Bugs de desempenho s√£o bugs!

## Benchmarking em CI

Mito: Voc√™ n√£o pode executar benchmarks em CI

A maioria dos arneses de benchmarking usa o [rel√≥gio do sistema](https://en.wikipedia.org/wiki/Elapsed_real_time) para medir lat√™ncia ou taxa de transfer√™ncia.
Isso √© muito √∫til, pois s√£o exatamente essas as m√©tricas que, como desenvolvedores, mais nos importamos.
No entanto, ambientes de CI de prop√≥sito geral costumam ser barulhentos e inconsistentes ao medir o tempo do rel√≥gio.
Ao realizar benchmarking cont√≠nuo, essa volatilidade adiciona ru√≠do indesejado aos resultados.

Existem algumas op√ß√µes para lidar com isso:
- [Benchmarking Relativo](/pt/docs/how-to/track-benchmarks/)
- Runners de CI dedicados
- Mudan√ßa de arneses de benchmarking para um que conta instru√ß√µes ao inv√©s do tempo do rel√≥gio

Ou simplesmente aceite o caos! O benchmarking cont√≠nuo n√£o precisa ser perfeito.
Sim, a redu√ß√£o da volatilidade e, assim, do ru√≠do no seu ambiente de benchmarking cont√≠nuo permitir√° que voc√™ detecte regres√µes de desempenho cada vez mais finas.
No entanto, n√£o deixe que o perfeito seja inimigo do bom aqui!

<div style="text-align: center;">
<a href="https://bencher.dev/perf/bencher?key=true&measures=4358146b-b647-4869-9d24-bd22bb0c49b5&branches=619d15ed-0fbd-4ccb-86cb-fddf3124da29&tab=benchmarks&testbeds=0d991aac-b241-493a-8b0f-8d41419455d2&benchmarks=1db23e93-f909-40aa-bf42-838cc7ae05f5"><img style="border: 0.2em solid #ed6704;" src="https://api.bencher.dev/v0/projects/bencher/perf/img?branches=619d15ed-0fbd-4ccb-86cb-fddf3124da29&testbeds=0d991aac-b241-493a-8b0f-8d41419455d2&benchmarks=1db23e93-f909-40aa-bf42-838cc7ae05f5&measures=4358146b-b647-4869-9d24-bd22bb0c49b5&title=Embrace+the+Chaos%21" title="Embrace the Chaos!" alt="Embrace the Chaos! for Bencher - Bencher" width="1024" height="768" /></a>
</div>

Voc√™ pode olhar para este gr√°fico e pensar, "Uau, isso √© loucura!" Mas pergunte a si mesmo, seu atual processo de desenvolvimento pode detectar uma regress√£o de desempenho de dois ou mesmo dez vezes antes que afete seus usu√°rios? Provavelmente n√£o! E isso sim √© loucura!

Mesmo com todo o ru√≠do de um ambiente CI, rastrear benchmarks de tempo de rel√≥gio ainda pode render grandes dividendos ao detectar regress√µes de desempenho antes que elas atinjam seus clientes em produ√ß√£o.
Com o tempo, √† medida que o gerenciamento de desempenho de seu software amadurece, voc√™ pode construir a partir da√≠.
Enquanto isso, apenas use seu CI regular.

## Desempenho Importa

Mito: Voc√™ n√£o consegue perceber 100ms de lat√™ncia

√â comum ouvir pessoas afirmarem que os humanos n√£o conseguem perceber 100ms de lat√™ncia.
Um [artigo do Nielsen Group sobre tempos de resposta](https://www.nngroup.com/articles/response-times-3-important-limits/) √© frequentemente citado para essa alega√ß√£o.

> **0,1 segundo** √© aproximadamente o limite para que o usu√°rio sinta que o sistema est√° **reagindo instantaneamente**, o que significa que nenhuma feedback especial √© necess√°rio, exceto para exibir o resultado.
>
> - Jakob Nielsen, 1 Jan __*1993*__

Mas isso simplesmente n√£o √© verdade.
Em algumas tarefas, as pessoas podem perceber [apenas 2ms de lat√™ncia](https://pdfs.semanticscholar.org/386a/15fd85c162b8e4ebb6023acdce9df2bd43ee.pdf).
Uma maneira f√°cil de provar isso √© um [experimento de Dan Luu](https://danluu.com/input-lag/#appendix-why-measure-latency): abra seu terminal e execute `sleep 0; echo "ping"` e depois execute `sleep 0.1; echo "pong"`. Voc√™ notou a diferen√ßa, certo‚ÄΩ

Outro ponto comum de confus√£o √© a distin√ß√£o entre a percep√ß√£o de lat√™ncia e os tempos de rea√ß√£o humana. Mesmo que leve [cerca de 200ms para responder a um est√≠mulo visual](https://humanbenchmark.com/tests/reactiontime), isso √© independente da percep√ß√£o do evento em si. Por analogia, voc√™ pode notar que seu trem est√° dois minutos atrasado (lat√™ncia percebida) mesmo que a viagem de trem leve duas horas (tempo de rea√ß√£o).

Desempenho importa! [Desempenho √© uma caracter√≠stica](https://blog.codinghorror.com/performance-is-a-feature)!

- Cada 100ms mais r√°pido ‚Üí 1% mais convers√µes ([Mobify](https://web.dev/why-speed-matters/), ganhando +$380,000/ano)
- 50% mais r√°pido ‚Üí 12% mais vendas ([AutoAnything](https://www.digitalcommerce360.com/2010/08/19/web-accelerator-revs-conversion-and-sales-autoanything/))
- 20% mais r√°pido ‚Üí 10% mais convers√µes ([Furniture Village](https://www.thinkwithgoogle.com/intl/en-gb/marketing-strategies/app-and-mobile/furniture-village-and-greenlight-slash-page-load-times-boosting-user-experience/))
- 40% mais r√°pido ‚Üí 15% mais cadastros ([Pinterest](https://medium.com/pinterest-engineering/driving-user-growth-with-performance-improvements-cfc50dafadd7))
- 850ms mais r√°pido ‚Üí 7% mais convers√µes ([COOK](https://web.dev/why-speed-matters/))
- Cada 1 segundo mais lento ‚Üí 10% menos usu√°rios ([BBC](https://www.creativebloq.com/features/how-the-bbc-builds-websites-that-scale))

Com o fim da Lei de Moore, as cargas de trabalho que podem funcionar em paralelo precisar√£o ser paralelizadas.
No entanto, a maioria das cargas de trabalho precisa ser executada em s√©rie,
e simplesmente jogar mais computa√ß√£o no problema est√° rapidamente se tornando uma solu√ß√£o incontrol√°vel e cara.

O Benchmarking Cont√≠nuo √© um componente chave para desenvolver e manter
um software moderno performante diante desta mudan√ßa.

<div class="content has-text-centered">
<img
    src="https://s3.amazonaws.com/public.bencher.dev/docs/moores_law.jpg"
    width="2124"
    height="1128"
    alt="Lei de Moore de https://davidwells.io/blog/rise-of-embarrassingly-parallel-serverless-compute"
/>
</div>

## Ferramentas de Benchmarking Cont√≠nuo

Antes de criar o Bencher, procuramos uma ferramenta que pudesse:

- Rastrear benchmarks em v√°rias linguagens
- Ingere sem problemas a sa√≠da padr√£o do arn√™s de benchmark de linguagem
- Extens√≠vel para uma sa√≠da personalizada do arn√™s de benchmark
- C√≥digo aberto e capaz de hospedar por conta pr√≥pria
- Funciona com v√°rios hosts de CI
- Autentica√ß√£o e autoriza√ß√£o do usu√°rio

Infelizmente, nada que atendesse a todos esses crit√©rios existia.
Veja a [arte anterior](/pt/docs/reference/prior-art/) para uma lista abrangente das ferramentas de benchmarking existentes que nos inspiraram.

## Benchmarking Cont√≠nuo em Grandes Empresas de Tecnologia

Ferramentas como o Bencher foram desenvolvidas internamente na
Microsoft, Facebook (agora Meta), Apple, Amazon, Netflix, e Google entre in√∫meras outras.
Como tit√£s da ind√∫stria, eles entendem a import√¢ncia de monitorar o desempenho durante o desenvolvimento
e integrar essas percep√ß√µes ao processo de desenvolvimento atrav√©s de CB.
N√≥s constru√≠mos o Bencher para trazer o benchmarking cont√≠nuo de tr√°s das paredes das grandes empresas de tecnologia para a comunidade de c√≥digo aberto.
Para links para posts relacionados ao benchmarking cont√≠nuo de Grandes Empresas de Tecnologia, veja a [arte anterior](/pt/docs/reference/prior-art/).
