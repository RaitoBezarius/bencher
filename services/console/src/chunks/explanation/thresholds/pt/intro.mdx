import ThresholdCode from "../threshold-code.mdx";

Limiares s√£o como voc√™ detecta regress√µes de desempenho com o Bencher.
Um Limiar √© atribu√≠do a uma combina√ß√£o √∫nica de:
[Ramo][branch], [bancada de testes][testbed] e [medida][measure].
Um Limiar usa um [teste espec√≠fico][tests] para detectar regress√µes de desempenho.
A combina√ß√£o de um teste e seus par√¢metros √© chamada de Modelo.
Um Modelo deve ter um Limite Inferior, Superior, ou ambos.

- Limite Inferior
  - Um Limite Inferior √© usado quando um valor menor indicaria uma regress√£o de desempenho,
  como na Medida de Vaz√£o.
- Limite Superior
  - Um Limite Superior √© usado quando um valor maior indicaria uma regress√£o de desempenho,
  como na Medida de Lat√™ncia.

Cada Limite √© usado para calcular um Limite de Fronteira.
Ent√£o, cada novo [m√©trica][metric] √© verificada em rela√ß√£o a cada Limite de Fronteira.
Um alerta √© gerado quando uma nova M√©trica est√° abaixo de um Limite Inferior de Fronteira ou acima de um Limite Superior de Fronteira.

Quando [Benchmarking Cont√≠nuo], ou seja, benchmarking em CI, voc√™ vai querer criar Limiares.
Usando o subcomando de CLI <code><a href="/pt/docs/explanation/bencher-run/">bencher run</a></code>,
voc√™ j√° especifica um Ramo com [a op√ß√£o `--branch`][branch option]
e uma bancada de testes com [a op√ß√£o `--testbed`][testbed option].
Assim, a √∫nica outra dimens√£o que voc√™ precisa especificar √© uma Medida, com a op√ß√£o `--threshold-measure`.
Ent√£o, voc√™ pode usar a op√ß√£o `--threshold-test` para especificar o Teste a ser usado para essa Medida.
As op√ß√µes `--threshold-min-sample-size`, `--threshold-max-sample-size` e `--threshold-window`
permitem controlar quais dados s√£o usados pelo Teste.
Finalmente, as op√ß√µes `--threshold-lower-boundary` e `--threshold-upper-boundary`
permitem que voc√™ defina o Limite Inferior e o Limite Superior.
Se voc√™ quiser remover todos os Modelos n√£o especificados,
pode fazer isso com a flag `--thresholds-reset`.

- Se o Limiar n√£o existir, ele ser√° criado para voc√™.
- Se o Limiar existir e o Modelo especificado for o mesmo, ent√£o o Modelo √© ignorado.
- Se o Limiar existir e o Modelo especificado for diferente, ent√£o um novo Modelo √© criado para o Limiar.
- Se um Limiar existir e for redefinido, ent√£o o Modelo atual √© removido do Limiar.

Por exemplo, para usar apenas um Limiar para a Medida de Lat√™ncia
usando [um Teste t de Student][t-test]
com um tamanho m√°ximo de amostra de `64`
e um Limite Superior de `0.99`, voc√™ poderia escrever algo assim:

<ThresholdCode />

> üê∞ Quando estiver trabalhando com branches de recursos, voc√™ pode querer copiar os Limiares existentes do Ramo base, [Ponto de Partida][start point].
> Isso √© poss√≠vel com [a flag `--start-point-clone-thresholds`][start point clone thresholds flag].
Note que a flag `--thresholds-reset` ainda remover√° quaisquer Limiares clonados que n√£o sejam explicitamente especificados.

[branch]: /pt/docs/explanation/benchmarking/#branch
[testbed]: /pt/docs/explanation/benchmarking/#testbed
[measure]: /pt/docs/explanation/benchmarking/#measure
[metric]: /pt/docs/explanation/benchmarking/#metric
[continuous benchmarking]: /pt/docs/explanation/continuous-benchmarking/
[branch option]: /pt/docs/explanation/branch-selection/#--branch-branch
[testbed option]: /pt/docs/explanation/bencher-run/#--testbed-testbed
[start point]: /pt/docs/explanation/benchmarking/#start-point
[start point clone thresholds flag]: /pt/docs/explanation/branch-selection/#--start-point-clone-thresholds

[tests]: #--threshold-test-test
[t-test]: #t-test