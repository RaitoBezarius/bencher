import ThresholdCode from "../threshold-code.mdx";

Les seuils sont la fa√ßon dont vous d√©tectez les r√©gressions de performance avec Bencher.
Un seuil est attribu√© √† une combinaison unique de :
[Branch][branch], [Testbed][testbed], et [Measure][measure].
Un seuil utilise un [Test][tests] sp√©cifique pour d√©tecter les r√©gressions de performance.
La combinaison d'un test et de ses param√®tres est appel√©e un Mod√®le.
Un mod√®le doit avoir une Limite Inf√©rieure, une Limite Sup√©rieure, ou les deux.

- Limite Inf√©rieure
  - Une Limite Inf√©rieure est utilis√©e lorsqu'une valeur plus petite indiquerait une r√©gression de performance,
  comme avec la Mesure de D√©bit.
- Limite Sup√©rieure
  - Une Limite Sup√©rieure est utilis√©e lorsqu'une valeur plus grande indiquerait une r√©gression de performance,
  comme avec la Mesure de Latence.

Chaque limite est utilis√©e pour calculer une Limite de Seuil.
Ensuite, chaque nouvelle [M√©trique][metric] est v√©rifi√©e par rapport √† chaque Limite de Seuil.
Une alerte est g√©n√©r√©e lorsqu'une nouvelle m√©trique est en dessous d'une Limite Inf√©rieure de Seuil ou au-dessus d'une Limite Sup√©rieure de Seuil.

Lors du [Benchmarking Continu], c'est-√†-dire du benchmarking en CI, vous voudrez cr√©er des seuils.
En utilisant la sous-commande CLI <code><a href="/fr/docs/explanation/bencher-run/">bencher run</a></code>,
vous sp√©cifiez d√©j√† une branche avec [l'option `--branch`][branch option]
et un Testbed avec [l'option `--testbed`][testbed option].
Donc la seule autre dimension que vous devez sp√©cifier est une Mesure, avec l'option `--threshold-measure`.
Ensuite, vous pouvez utiliser l'option `--threshold-test` pour sp√©cifier le Test √† utiliser pour cette Mesure.
Les options `--threshold-min-sample-size`, `--threshold-max-sample-size`, et `--threshold-window`
vous permettent de contr√¥ler les donn√©es utilis√©es par le Test.
Enfin, les options `--threshold-lower-boundary` et `--threshold-upper-boundary`
vous permettent de d√©finir la Limite Inf√©rieure et la Limite Sup√©rieure.
Si vous souhaitez supprimer tous les mod√®les qui ne sont pas sp√©cifi√©s,
vous pouvez le faire avec le drapeau `--thresholds-reset`.

- Si le seuil n'existe pas, il sera cr√©√© pour vous.
- Si le seuil existe et que le mod√®le sp√©cifi√© est le m√™me, alors le mod√®le est ignor√©.
- Si le seuil existe et que le mod√®le sp√©cifi√© est diff√©rent, alors un nouveau mod√®le est cr√©√© pour le seuil.
- Si un seuil existe et qu'il est r√©initialis√©, alors le mod√®le actuel est retir√© du seuil.

Par exemple, pour n'utiliser qu'un seuil pour la Mesure de Latence
en utilisant [un test de Student][t-test]
avec une taille d'√©chantillon maximale de `64`
et une Limite Sup√©rieure de `0.99`, vous pourriez √©crire quelque chose comme ceci :

<ThresholdCode />

> üê∞ Lorsqu'on travaille avec des branches de fonctionnalit√©s, vous pourriez vouloir copier les seuils existants √† partir de la branche de base, [Point de D√©part][start point].
> C'est possible avec [le drapeau `--start-point-clone-thresholds`][start point clone thresholds flag].
Notez que le drapeau `--thresholds-reset` retirera toujours les seuils clon√©s qui ne sont pas explicitement sp√©cifi√©s.

[branch]: /fr/docs/explanation/benchmarking/#branch
[testbed]: /fr/docs/explanation/benchmarking/#testbed
[measure]: /fr/docs/explanation/benchmarking/#measure
[metric]: /fr/docs/explanation/benchmarking/#metric
[continuous benchmarking]: /fr/docs/explanation/continuous-benchmarking/
[branch option]: /fr/docs/explanation/branch-selection/#--branch-branch
[testbed option]: /fr/docs/explanation/bencher-run/#--testbed-testbed
[start point]: /fr/docs/explanation/benchmarking/#start-point
[start point clone thresholds flag]: /fr/docs/explanation/branch-selection/#--start-point-clone-thresholds

[tests]: #--threshold-test-test
[t-test]: #t-test